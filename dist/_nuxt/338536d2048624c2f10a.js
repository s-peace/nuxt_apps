(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{346:function(e,t,n){var content=n(453);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(48).default)("6e739cb2",content,!0,{sourceMap:!1})},452:function(e,t,n){"use strict";var o=n(346);n.n(o).a},453:function(e,t,n){(e.exports=n(47)(!1)).push([e.i,".login{font-weight:700;font-size:12px;cursor:pointer}.list1{text-align:left;font-size:16px}.list2{text-align:right;font-size:10px}.container{padding:5px 10px}h1{font-size:60px;color:orange}p{padding-top:5px;margin:10px 0;font-size:20px}.message{font-size:16px}ul{margin:0 10px;background-color:#f0f8ff}li{padding:10px;font-size:10px}tr th{width:120px;background-color:#00008b;color:#fff;font-size:16px}tr td{padding:5px 10px;background-color:#eef;font-size:14px}hr{margin:10px 0}button,input{font-size:14px}",""])},466:function(e,t,n){"use strict";n.r(t);var o=n(351),r=n.n(o);n(115);r.a.initializeApp({apiKey:"AIzaSyCCHSPN89TWX8IYpd5zRzSAytRhRDueMP0",authDomain:"nuxt-firebase-app-5b6cc.firebaseapp.com",databaseURL:"https://nuxt-firebase-app-5b6cc.firebaseio.com",projectId:"nuxt-firebase-app-5b6cc",storageBucket:"nuxt-firebase-app-5b6cc.appspot.com",messagingSenderId:"836571126469"});var l={data:function(){return{title:"Board",message:"show mini board",user_name:"",logined:!0,msg:"",page:0,num_per_page:10,json_data:{}}},methods:{login:function(){var e=new r.a.auth.GoogleAuthProvider,t=this;r.a.auth().signInWithPopup(e).then(function(e){console.log(e.user),t.user=e.user,t.user_name=e.user.displayName,t.message="logined",r.a.database().ref("board").orderByKey().limitToLast(t.num_per_page).on("value",function(e){if(null!=r.a.auth().currentUser){var n=[],data=e.val();for(var o in data)n.unshift(data[o]);console.log(n),t.json_data=n}else t.json_data={}})})},logout:function(){r.a.auth().signOut(),this.user_name="",this.json_data={},this.message="logouted"},doLogin:function(){null==r.a.auth().currentUser?this.login():this.logout()},add:function(){if(null!=r.a.auth().currentUser){var e=r.a.database(),t=r.a.auth().currentUser;console.log("user"+t);e.ref("board");var n=new Date,o=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds(),l=n.getTime(),data={msg:this.msg,user:t.displayName,posted:o};r.a.database().ref("board/"+l).set(data),this.msg="",this.message="posted"}else alert("plz login")}},created:function(){null==r.a.auth().currentUser&&this.login(),console.log("test"+r.a.auth().currentUser)}},c=(n(452),n(24)),component=Object(c.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"container"},[n("div",{staticClass:"login",on:{click:e.doLogin}},[e._v("[login as "+e._s(e.user_name)+"]")]),e._v(" "),n("h1",[e._v(e._s(e.title))]),e._v(" "),n("p",{staticClass:"message"},[e._v(e._s(e.message))]),e._v(" "),e.logined?n("div",[n("table",[n("th",[e._v("Message")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],attrs:{size:"50"},domProps:{value:e.msg},on:{input:function(t){t.target.composing||(e.msg=t.target.value)}}})]),e._v(" "),n("td",[n("button",{on:{click:e.add}},[e._v("add")])])]),e._v(" "),n("hr"),e._v(" "),e._l(e.json_data,function(data,t){return n("ul",[n("li",[n("div",{staticClass:"list1"},[e._v(e._s(data.msg))]),e._v(" "),n("div",{staticClass:"list2"},[e._v(e._s(data.user)+"("+e._s(data.posted)+")")])])])})],2):e._e()])},[],!1,null,null,null);t.default=component.exports}}]);